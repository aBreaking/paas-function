#运行命令
通过在配置文件中配置好数据即可。而后运行
```
java -jar mouse.jar即可
```
或者直接用命令行的方式：
```
java -jar mouse.jar [配置文件路径] [数据文件路径] [数据过滤器] [表名] [指定外键] {[列名]、[列名]....}
```
如果某些字段已在配置文件中配置了，可使用 . 来默表示该字段使用配置文件中配置的。

# 数据文件格式
与liupq确认后，pq先将需要监控的数据以文件的形式保存到主机上。具体文件格式如下：
### 三维的监控指标
有时监控的主机的指标生成的记录不止一行，比如在9点钟监控到上一个小时主机的统计信息。就以如下的格式：
```
#主机名1#
监控指标1,监控指标2,监控指标3,.....
监控指标1,监控指标2,监控指标3,.....
....
#主机名1#
#主机名2#
监控指标1,监控指标2,监控指标3,.....
...
#主机名2#
...
```
比如：
```
#host1#
2017-07-01 19:06:03,3000
2017-07-02 19:06:04,4000
#host1#
#host2#
2017-07-01 19:06:01,1000
2017-07-01 19:06:02,2000
2017-07-01 19:06:03,3000
2017-07-01 19:06:04,4000
#host2#
#host3#
2017-07-01 19:06:03,3000
2017-07-02 19:06:04,4000
#host3#
```
**要求：** 需要pq给定指标分别对应的字段名，所有主机监控的指标必须都一样
# 三维数据入库功能的开发
### 功能说明
我会将开发后的功能打包成成jar包，部署再pq的主机上，需要指定两个文件，一个是jar包功能配置文件，一个是pq的监控信息数据文件
**配置文件：**在该配置文件中指定数据库连接的基本属性，表名，数据文件中对应的字段名
**数据文件：**就是以三维的监控指标的主机监控的信息。
### 数据库表的字段
```
id：主键
动态列：pq在配置文件中指定字段名，类型全部为varchar型，即字符串
insert_time：插入该条记录的时刻（冗余设计）
```
# 功能使用说明
### 命令行
执行命令：
```
java -jar mouse.jar 配置文件绝对路径 数据文件按绝对路径  <数据过滤器名>  <表名>  [<若干列名>] 
```
如：
```
java -jar mouse.jar /chnesb/mouse.properties /chnesb/test_gc.txt pq host_info_20181206 query_time exec_time
或者<>的参数已在配置文件中指定，只需：
java -jar mouse.jar /chnesb/mouse.properties  /chnesb/test_gc.txt
```
### 参数说明
1. 配置文件绝对路径
**必须**，且文件后缀必须为.properties
为该功能jar包的配置文件，见附件中名为mouse.properties的文件。该配置文件必须包括数据库连接的基本属性（url,driver,username,password），还可包含上述**命令行**中指定的除数据文件按绝对路径外其他参数。当命令行中的非必需参数与该配置文件中参数共存时，就以命令行的指定的为准。
2. 数据文件按绝对路径
**必须**
将该数据文件中数据保存到数据库中去，数据格式见 三维的监控指标。支持mysql、oracle两种数据库
3.  数据过滤器名 (filter)
可选，若命令行未有该参数，则必须在配置文件中指定。
其作用是筛选数据文件中的数据，只入库符合规则的数据。目前只有两个过滤器：
**pq** : 为liupq指定的规则，即只需要当前时刻前一个小时内的数据。
**default**或者其他值：表示不要过滤器，入库所有的数据
4. 表名 (table.name)
可选，若命令行未有该参数，则必须在配置文件中指定。
将数据保存到那张表去。  若数据库没有此表，程序会自动创建
5. 列名 (table.column)
可选，若命令行未有该参数，则必须在配置文件中指定。配置文件中指定需要以“,”分隔。
列名必须跟数据文件中每个数据对应。
表示数据文件中每条记录对应的字段名，即数据库生成表时对应的字段名。