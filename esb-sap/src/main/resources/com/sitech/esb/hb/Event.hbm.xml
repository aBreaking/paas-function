<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.sitech.esb.hb.Event" table="EVENT">
        <comment>事件</comment>
        <id name="eventId" type="java.lang.Long">
            <column name="EVENT_ID" precision="22" scale="0" />
            <generator class="native">
            	<param name="sequence">EVENT_IDSEQ</param>
            </generator>
        </id>
        <property name="eventName" type="java.lang.String">
            <column name="EVENT_NAME" length="128" not-null="true" unique="true">
                <comment>事件名</comment>
            </column>
        </property>
        <property name="needInprocess" type="java.lang.Long">
            <column name="NEED_INPROCESS" precision="22" scale="0" not-null="true">
                <comment>0:不内部自定义处理；1:要内部自定义处理</comment>
            </column>
        </property>        
        <property name="processLogic" type="java.lang.String">
            <column name="PROCESS_LOGIC" length="3999" >
                <comment>处理逻辑</comment>
            </column>
        </property>        
        <property name="validFlag" type="java.lang.Long">
            <column name="VALID_FLAG" precision="22" scale="0" not-null="true">
                <comment>0：无效 1： 有效</comment>
            </column>
        </property>
        <property name="describle" type="java.lang.String">
            <column name="DESCRIBLE" length="512">
                <comment>描述</comment>
            </column>
        </property>
        <property name="logicUpdated" type="java.lang.Long">
           <column name="EVENT_PUB_STATUS" precision="22" scale="0" >
              <comment>-2:删除中 -1:更新失败 0:发布成功 1:发布中</comment>
           </column>
        </property>
        <property name="publicTips" type="java.lang.String">
            <column name="PUBLIC_TIPS" length="1024">
               <comment>发布提示</comment>
            </column>
        </property>
        <property name="srvProcessMsgLogic" type="java.lang.String">
           <column name="SRVPROCESS_MSG_LOGIC" length="3999">
             <comment>服务生成事件的处理消息生成逻辑</comment>
           </column>
        </property>
        <property name="srvEventDecideLogic" type="java.lang.String">
           <column name="SRVEVENT_DECIDE_LOGIC" length="3999">
             <comment>服务生成事件判断逻辑：服务前置、后置事件生成时，根据入参判断是否生成事件实例</comment>
           </column>
        </property>
        <set name="eventGens" inverse="true">
            <key>
                <column name="EVENT_ID" precision="22" scale="0" not-null="true">
                    <comment>事件id</comment>
                </column>
            </key>
            <one-to-many class="com.sitech.esb.hb.EventGen" />
        </set>
        <set lazy="true" name="topics" order-by="TOPIC_ID" inverse="true" cascade="delete"
        	sort="unsorted" table="EVENT_TOPIC">
        	<!-- <cache usage="read-write"/> -->
        	<key column="EVENT_ID" />
        	<many-to-many class="com.sitech.esb.hb.Topic"
        		column="TOPIC_ID" />
        </set>   
        <set lazy="true" name="srvs" order-by="SRV_ID"
        	sort="unsorted" table="SRV_EVENT">
        	<!-- <cache usage="read-write"/> -->
        	<key column="EVENT_ID" />
        	<many-to-many class="com.sitech.esb.hb.SrvInfo"
        		column="SRV_ID" />
        </set>
        <set name="srvEvents" lazy="true" inverse="true" cascade="all,delete-orphan">
           <key column="EVENT_ID" />
           <one-to-many class="com.sitech.esb.hb.SrvEvent"></one-to-many>
        </set>   
    </class>
</hibernate-mapping>
